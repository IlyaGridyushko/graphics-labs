# Использование приложения Lab 2

## Запуск приложения

После сборки запустите приложение:

```bash
cd build
./lab2
```

## Загрузка изображений

При запуске приложение попытается загрузить тестовое изображение `../test_images/test.png`.

Для загрузки другого изображения:
1. Нажмите кнопку **"Load Image"**
2. Введите в консоли полный или относительный путь к изображению
3. Нажмите Enter

Пример путей:
```
../test_images/noisy.png
../test_images/low_contrast.png
../test_images/blurred.png
/absolute/path/to/your/image.png
```

Поддерживаемые форматы: PNG, JPG, BMP

## Применение операций

1. Выберите операцию из выпадающего списка **"Select Operation"**
2. Настройте параметры с помощью ползунков (если доступны)
3. Нажмите **"Apply Operation"** или просто измените параметры - результат обновится автоматически
4. Результат отобразится в окне **"Processed Image"**

## Просмотр гистограммы

1. Установите флажок **"Show Histogram"**
2. Для цветных изображений выберите канал (Red/Green/Blue)
3. Окно гистограммы покажет распределение яркостей

## Сохранение результата

1. Нажмите кнопку **"Save Image"**
2. Введите в консоли путь для сохранения
3. Укажите расширение файла (.png, .jpg, .bmp)

Пример:
```
output/processed_image.png
../results/result.jpg
```

## Примеры использования

### Пример 1: Повышение контраста тёмного изображения

1. Загрузите `test_images/low_contrast.png`
2. Выберите операцию **"Auto Linear Contrast"**
3. Сравните результаты с **"Histogram Equalization (Gray)"**
4. Включите гистограмму, чтобы увидеть разницу в распределении

### Пример 2: Удаление шума

1. Загрузите `test_images/noisy.png`
2. Попробуйте **"Gaussian Filter"** с sigma = 1.0
3. Сравните с **"Median Filter"** kernel size = 3
4. Медианный фильтр должен лучше справиться с импульсным шумом

### Пример 3: Увеличение резкости

1. Загрузите `test_images/blurred.png`
2. Выберите **"Unsharp Masking"**
3. Настройте параметр Amount (попробуйте 1.5-2.0)
4. Сравните с **"Sharpen Filter"**

### Пример 4: Обнаружение краёв

1. Загрузите `test_images/test.png`
2. Выберите **"Sobel Edge Detection"**
3. Сравните с **"Canny Edge Detection"**
4. Для Canny настройте пороги (Low: 50, High: 150)

### Пример 5: Бинаризация

1. Загрузите любое изображение
2. Выберите **"Threshold - Otsu"** для автоматической бинаризации
3. Сравните с **"Threshold - Adaptive"** для изображений с переменным освещением
4. Настройте параметры Block Size и C для адаптивного метода

### Пример 6: Морфологические операции

1. Загрузите `test_images/noisy.png`
2. Сначала примените пороговую обработку (Otsu)
3. Выберите **"Morphology - Opening"** для удаления мелких объектов
4. Попробуйте разные структурирующие элементы и размеры

## Горячие клавиши

- **ESC** - Выход из приложения

## Решение проблем

### Приложение не запускается

Проверьте, что установлены все зависимости:
```bash
sudo apt-get install libgl1-mesa-dev libglu1-mesa-dev libglfw3-dev libglm-dev
```

### Не удаётся загрузить изображение

1. Проверьте путь к файлу
2. Убедитесь, что формат поддерживается (PNG, JPG, BMP)
3. Проверьте права доступа к файлу

### Изображение не отображается

1. Убедитесь, что изображение загружено успешно (смотрите вывод в консоли)
2. Проверьте размер окна - может потребоваться изменить размер

### Операция выполняется медленно

Некоторые операции требуют много вычислений:
- Эквализация гистограммы HSV
- Canny edge detection
- Адаптивные методы пороговой обработки на больших изображениях

Для ускорения используйте изображения меньшего размера или упрощённые методы.

## Параметры операций

### Linear Contrast
- **Alpha** (0.1-3.0): Коэффициент контраста
- **Beta** (-100-100): Коррекция яркости

### Filters
- **Kernel Size** (3-15, нечётное): Размер фильтра
- **Sigma** (0.1-5.0): Для Gaussian - степень размытия
- **Amount** (0.5-3.0): Для Unsharp Masking - сила эффекта

### Threshold - Fixed
- **Threshold** (0-255): Значение порога

### Threshold - Adaptive
- **Block Size** (3-51, нечётное): Размер блока для локального анализа
- **C** (-50-50): Константа вычитания из среднего

### Threshold - Niblack
- **Window Size** (3-51, нечётное): Размер окна
- **k** (-1.0-1.0): Весовой коэффициент

### Threshold - Sauvola
- **Window Size** (3-51, нечётное): Размер окна
- **k** (0.0-1.0): Весовой коэффициент

### Canny Edge Detection
- **Low Threshold** (0-255): Нижний порог для слабых краёв
- **High Threshold** (0-255): Верхний порог для сильных краёв

### Morphology
- **Kernel Size** (3-15, нечётное): Размер структурирующего элемента
- **Element**: Rectangle, Cross, или Ellipse

## Рекомендации

1. Начните с простых операций (Linear Contrast, Histogram Equalization)
2. Для шумных изображений сначала примените фильтры сглаживания
3. Для обнаружения краёв используйте предварительное сглаживание
4. Экспериментируйте с параметрами - часто результат зависит от конкретного изображения
5. Используйте гистограмму для понимания распределения яркостей
6. Сравнивайте разные методы на одном изображении
